<ion-header>
	<ion-toolbar class="tool-header">
		<ion-buttons>
			<ion-button slot="start" href="tabs/tab1">
				<ion-icon name="arrow-back"></ion-icon>
			</ion-button>
			<ion-title>Estabelecimento</ion-title>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ng-template #titleTemplate>
	<ion-title>
		<ion-skeleton-text animated class="loading-large"></ion-skeleton-text>
	</ion-title>
</ng-template>

<ion-content>
	<ng-container *ngIf="estabelecimento; else loading">
		<div class="container">
			<div>
				<img class="imagem-estabelecimento" [src]="estabelecimento?.imageUrl">
			</div>
			<ion-label class="ion-text-wrap">
				<ion-text color="primary">
				  <h1>{{ estabelecimento.nome }}</h1> 	
				  <h2>{{ estabelecimento.endereco.logradouro }},
						<ng-container *ngIf="estabelecimento.endereco.complemento">
							{{ estabelecimento.endereco.complemento }}.
					  	</ng-container>
				  Número: {{ estabelecimento.endereco.numero }}</h2>
				  <h3>{{ estabelecimento.endereco.bairro }},{{ estabelecimento.endereco.cidade.nome }}</h3>
				  <h3>CEP {{ estabelecimento.endereco.cep }}</h3>  
				</ion-text>

				<p *ngFor="let tel of estabelecimento.telefones">TEL: {{ tel }}</p>
				<p>Funcionamento: {{ estabelecimento.horario }}.</p>
				<p *ngIf="estabelecimento.instagram"> Instagram: {{ estabelecimento.instagram }} </p>
				<p *ngIf="estabelecimento.facebook">Facebook: {{ estabelecimento.facebook }}</p>
			</ion-label>
			<div class="produtos" *ngIf="estabelecimento.produtoServicos.length!==0">
				<ion-text color="primary">
					<h1>Produtos</h1>
				</ion-text>
				<ion-slides [options]="sliderOpts">
					<ion-slide *ngFor="let produto of estabelecimento.produtoServicos" (click)="detalheProduto(produto.id)">
						<img [src]="produto?.imageUrl">
					</ion-slide>
				</ion-slides>
			</div>
		</div>
	</ng-container>

	<ng-template #loading>
		<div class="container">
			<div>
				<img class="imagem-estabelecimento" src="/assets/img/sem_foto.png">
			</div>
			<ion-label class="ion-text-wrap">
				<ion-text color="primary">
				  <h1>Estabelecimento</h1> 	
				  <h2>Endereço</h2>
				  <h3>Bairro, Cidade</h3>
				  <h3>CEP</h3>  
				</ion-text>
				<p>Telefones</p>
				<p>Horário de Funcionamento</p>
				<p>Redes sociais</p>
				<ion-text color="primary">
					<p>Produtos</p>
				</ion-text>
			</ion-label>			
		</div>
	</ng-template>
</ion-content>