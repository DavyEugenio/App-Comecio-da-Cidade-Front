<ion-header>
	<ion-toolbar class="tool-header">
		<ion-buttons>
			<ion-button slot="start" (click)="gerenciarEstabelecimento()">
				<ion-icon name="arrow-back"></ion-icon>
			</ion-button>
			<ion-title>Produto</ion-title>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content>
	<div *ngIf="produtoServico && !edit">
		<div class="container">
			<div>
				<img class="imagem-produto" [src]="image">
			</div>
			<ion-label class="ion-text-wrap">
				<ion-text color="primary">
					<h1>{{produtoServico.nome }}</h1>
					<h2>R${{produtoServico.preco}}</h2>
				</ion-text>
				<p>{{produtoServico.descricao}}</p>
			</ion-label>
			<br>
			<ion-button class="botao-util" color="primary" (click)="editar()" large>Editar</ion-button>
			<ion-button class="botao-util" color="danger" (click)="alertConfirm()" large>Deletar</ion-button>
			<br>
		</div>
	</div>

	<!-- div de edição -->
	<div *ngIf="produtoServico && edit">
		<div class="container">
			<div>
				<img class="imagem-produto" [src]="image">
			</div>
			<div class="image-buttons">
				<ion-button class="midia-button" (click)="deletePicture()" *ngIf="image != '/assets/img/sem_foto.png'">
					<ion-icon class="icon-button font-s" name="trash-outline"></ion-icon>
				</ion-button>
				<ion-button class="midia-button mg-l" (click)="getCameraPicture()">
					<ion-icon class="icon-button font-s" name="camera"></ion-icon>
				</ion-button>
			</div>
			<form [formGroup]="formGroup" (ngSubmit)="updateProdutoServico(); $event.preventDefault()">
				<ul class="informacoes">
					<li>
						<ion-item>
							<ion-label class="label" position="floating">Nome*</ion-label>
							<ion-input class="label2" type="text" formControlName="nome"></ion-input>
						</ion-item>
					</li>
					<li>
						<ion-item>
							<ion-label class="label" position="floating">Preço*</ion-label>
							<ion-input class="label2" type="text" formControlName="preco"></ion-input>
						</ion-item>
					</li>
					<li>
						<ion-item>
							<ion-label class="label" position="floating">Descrição*</ion-label>
							<ion-textarea class="label2" type="text" formControlName="descricao"></ion-textarea>
						</ion-item>
					</li>
				</ul>
				<div class="form-buttons">
					<ion-button class="form-button" color="success" block type="submit">Salvar</ion-button>
					<ion-button class="form-button" color="danger" block type="reset" (click)="cancelarEdicao()">
						Cancelar</ion-button>
				</div>
			</form>
		</div>
	</div>
	<div *ngIf="!produtoServico">
		<div class="container">
			<div>
				<img class="imagem-produto" src="/assets/img/sem_foto.png">
			</div>
			<ion-label class="ion-text-wrap">
				<ion-text color="primary">
					<h1>Produto</h1>
					<h2>Preço</h2>
				</ion-text>
				<p>Descrição</p>
			</ion-label>
			<br>
		</div>
	</div>

</ion-content>